<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Java language / Autumn</title>
   <link rel="icon" href="/autumn/favicon.png">
   <link rel="stylesheet" href="/autumn/autumn.css">
</head>
<body class="theme-base-08">
   <header>
      <h1>
         <a href="/autumn">Autumn</a>
      </h1>
      <p>Comparison of programming languages</p>
      <nav>
         <a href="/autumn/categories">Categories</a>
         <a href="/autumn/tags">Tags</a>
         <a href="https://github.com/nu8/autumn">Repo</a>
      </nav>
   </header>

<h1>Java language</h1>
<time>Wed May 27 2020</time>
   
   
   <h2 id="boilerplate">Boilerplate</h2>
<p>Here is a minimal program:</p>




<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.java" data-lang=".java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">a1</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> a2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Sunday&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div>
<ol>
<li><code>class</code> is required:</li>
</ol>
<pre><code>error: class, interface, or enum expected
</code></pre><ol start="2">
<li><code>public</code> is required:</li>
</ol>
<pre><code>error:  languagemain' method is not declared 'public static'
</code></pre><ol start="3">
<li><code>static</code> is required:</li>
</ol>
<pre><code>error:  languagemain' method is not declared 'public static'
</code></pre><ol start="4">
<li><code>void</code> is required:</li>
</ol>
<pre><code>error: invalid method declaration; return type required
</code></pre><ol start="5">
<li><code>main</code> is required</li>
</ol>
<pre><code>error: can languaget find main(String[]) method in class: a1
</code></pre><ol start="6">
<li><code>String[]</code> is required</li>
</ol>
<pre><code>error: can languaget find main(String[]) method in class: app
</code></pre><p><a href="https://google.com/search?tbs=qdr:m&amp;q=java+hello+world">https://google.com/search?tbs=qdr:m&amp;q=java+hello+world</a></p>
<h2 id="graal">Graal</h2>
<p>If I try to use <code>native-image</code>, I get this:</p>
<pre><code>&gt; type HelloWorld.java
public class HelloWorld {
  public static void main(String[] args) {
    System.out.println(&quot;Hello, World!&quot;);
  }
}

&gt; bin\javac HelloWorld.java

&gt; bin\native-image HelloWorld
[helloworld:2924]    classlist:     960.11 ms,  1.19 GB
[helloworld:2924]        (cap):      84.78 ms,  1.19 GB
[helloworld:2924]        setup:     327.89 ms,  1.19 GB
Error: Unable to compile C-ABI query code. Make sure native software development
toolchain is installed on your system.
</code></pre><p>Running again gives this:</p>
<pre><code>&gt; bin\native-image -H:+ReportExceptionStackTraces HelloWorld
[...]
Caused by: java.io.IOException: Cannot run program &quot;CL&quot; (in directory
&quot;C:\Users\Steven\AppData\Local\Temp\SVM-8913641224192734383&quot;): CreateProcess
error=2, The system cannot find the file specified
   at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)
   at com.oracle.svm.hosted.c.codegen.CCompilerInvoker.
   startCommand(CCompilerInvoker.java:158)
</code></pre><p>Its true, I dont have <code>CL.exe</code> on my system, but I do have Clang and GCC:</p>
<ul>
<li><a href="https://github.com/mstorsjo/llvm-mingw">https://github.com/mstorsjo/llvm-mingw</a></li>
<li><a href="https://musl.cc">https://musl.cc</a></li>
</ul>
<p>It seems currently, with Windows only the MSVC compiler is allowed:</p>
<ul>
<li><a href="https://docs.microsoft.com/cpp/build/reference/compiling-a-c-cpp-program">https://docs.microsoft.com/cpp/build/reference/compiling-a-c-cpp-program</a></li>
<li><a href="https://github.com/oracle/graal/blob/fb9b1d3b/substratevm/src/com.oracle.svm.hosted/src/com/oracle/svm/hosted/c/codegen/CCompilerInvoker.java#L106-L108">https://github.com/oracle/graal/blob/fb9b1d3b/substratevm/src/com.oracle.svm.hosted/src/com/oracle/svm/hosted/c/codegen/CCompilerInvoker.java#L106-L108</a></li>
</ul>
<p>I think people should be able to choose what compiler they use.</p>
<h2 id="setup">Setup</h2>
<p><a href="https://jdk.java.net">https://jdk.java.net</a></p>


</body>
</html>
