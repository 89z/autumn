<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PHP mail &middot; Autumn</title>
   <link rel="icon" href="/autumn/favicon.png">
   <link rel="stylesheet" href="/autumn/autumn.css">
</head>
<body class="theme-base-08">
   <header>
      <h1>
         <a href="/autumn">Autumn</a>
      </h1>
      <p>Comparison of programming languages</p>
      <nav>
         <a href="/autumn/topics">Topics</a>
         <a href="/autumn/languages">Languages</a>
         <a href="/autumn/rubber-duck">Rubber duck</a>
         <a href="https://github.com/muv1/autumn">Repo</a>
      </nav>
   </header>
<h1>PHP mail</h1>
<time>Sun Apr 12 12:24:20 2020</time>
   <p>PHP mail:</p>
<p><a href="https://php.net/function.mail">https://php.net/function.mail</a></p>
<p>seems pretty desirable upon first glance. Doing this:</p>



<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#75715e">&lt;?php</span>
<span style="color:#a6e22e">mail</span>(<span style="color:#e6db74">&#39;sunday@gmail.com&#39;</span>, <span style="color:#e6db74">&#39;Monday&#39;</span>, <span style="color:#e6db74">&#39;Tuesday&#39;</span>);
</code></pre></div>
<p>is much simpler than doing this:</p>



<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#75715e">&lt;?php</span>
$r1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#39;message.txt&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>);
$r2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_init</span>(<span style="color:#e6db74">&#39;smtps://smtp.gmail.com&#39;</span>);
<span style="color:#a6e22e">curl_setopt</span>($r2, <span style="color:#a6e22e">CURLOPT_MAIL_FROM</span>, <span style="color:#e6db74">&#39;sunday@gmail.com&#39;</span>);
<span style="color:#a6e22e">curl_setopt</span>($r2, <span style="color:#a6e22e">CURLOPT_MAIL_RCPT</span>, [<span style="color:#e6db74">&#39;monday@gmail.com&#39;</span>]);
<span style="color:#a6e22e">curl_setopt</span>($r2, <span style="color:#a6e22e">CURLOPT_NETRC</span>, <span style="color:#66d9ef">true</span>);
<span style="color:#a6e22e">curl_setopt</span>($r2, <span style="color:#a6e22e">CURLOPT_READDATA</span>, $r1);
<span style="color:#a6e22e">curl_setopt</span>($r2, <span style="color:#a6e22e">CURLOPT_UPLOAD</span>, <span style="color:#66d9ef">true</span>);
<span style="color:#a6e22e">curl_exec</span>($r2);
</code></pre></div>
<p>but what that page doesnt says is that <code>mail</code> requires <code>sendmail</code>:</p>
<p><a href="https://en.wikipedia.org/wiki/Sendmail">https://en.wikipedia.org/wiki/Sendmail</a></p>
<p>and Sendmail is not cheap requirements wise. Here are requirements:</p>
<pre><code>   63,280 cygrunsrv
   60,044 cyrus-sasl
    4,132 libcom_err2
   20,804 libcrypt0
  883,388 libdb5.3
   59,248 libgc1
  102,828 libgssapi_krb5_2
2,235,304 libguile2.0_22
   73,344 libk5crypto3
  236,076 libkrb5_3
   14,424 libkrb5support0
   13,988 libltdl7
  149,684 libopenldap2_4_2
      108 libopenssl100
   23,112 libprocps7
  131,228 libsasl2_3
  385,472 libunistring2
   12,228 libwrap0
  231,416 m4
  459,228 make
  122,568 procmail
       32 procps
  304,620 procps-ng
  509,556 sendmail
   58,912 tcp_wrappers

       25 packages
6,155,024 bytes
</code></pre><p>and here is PHP cURL, not including packages already required by PHP:</p>
<pre><code>   54,360 libbrotlicommon1
   18,272 libbrotlidec1
    4,132 libcom_err2
   20,804 libcrypt0
  233,752 libcurl4
  883,388 libdb5.3
  102,828 libgssapi_krb5_2
   50,980 libidn2_0
   73,344 libk5crypto3
  236,076 libkrb5_3
   14,424 libkrb5support0
   52,312 libnghttp2_14
  149,684 libopenldap2_4_2
      108 libopenssl100
   50,452 libpsl5
  131,228 libsasl2_3
  157,744 libssh4
   15,608 libssh-common
  385,472 libunistring2
   27,156 php-curl
   38,224 publicsuffix-list-dafsa

       21 packages
2,700,348 bytes
</code></pre><p>So if the starting point is PHP, then just using PHP cURL is the better
choice.</p>


</body>
</html>
